{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug: yams-daemon (Installed - Windows)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${env:LOCALAPPDATA}\\Programs\\yams\\bin\\yams-daemon.exe",
      "args": [
        "--foreground",
        "--log-level",
        "debug"
      ],
      "cwd": "${env:LOCALAPPDATA}\\yams",
      "environment": [
        {
          "name": "YAMS_LOG_LEVEL",
          "value": "debug"
        }
      ],
      "stopAtEntry": false,
      "console": "integratedTerminal",
      "symbolSearchPath": "${workspaceFolder}\\build\\release"
    },
    {
      "name": "Debug: yams-daemon (builddir - Debug)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${workspaceFolder}\\builddir\\src\\daemon\\yams-daemon.exe",
      "args": [
        "--foreground",
        "--log-level",
        "${input:yamsLogLevel}"
      ],
      "cwd": "${workspaceFolder}",
      "preLaunchTask": "meson-build-debug",
      "environment": [
        {
          "name": "YAMS_LOG_LEVEL",
          "value": "${input:yamsLogLevel}"
        }
      ],
      "stopAtEntry": false,
      "console": "integratedTerminal"
    },
    {
      "name": "Debug: yams-daemon (build/release - Release)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${workspaceFolder}\\build\\release\\src\\daemon\\yams-daemon.exe",
      "args": [
        "--foreground",
        "--log-level",
        "${input:yamsLogLevel}"
      ],
      "cwd": "${workspaceFolder}",
      "preLaunchTask": "meson-build-release",
      "environment": [
        {
          "name": "YAMS_LOG_LEVEL",
          "value": "${input:yamsLogLevel}"
        }
      ],
      "stopAtEntry": false,
      "console": "integratedTerminal"
    },
    {
      "name": "Debug: yams-cli (builddir - Debug)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${workspaceFolder}\\builddir\\tools\\yams-cli\\yams-cli.exe",
      "args": [
        "${input:yamsCliArguments}"
      ],
      "cwd": "${workspaceFolder}",
      "preLaunchTask": "meson-build-debug",
      "environment": [
        {
          "name": "YAMS_LOG_LEVEL",
          "value": "${input:yamsLogLevel}"
        }
      ],
      "stopAtEntry": false,
      "console": "integratedTerminal"
    },
    {
      "name": "Debug: yams-cli (build/release - Release)",
      "type": "cppvsdbg",
      "request": "launch",
      "program": "${workspaceFolder}\\build\\release\\tools\\yams-cli\\yams-cli.exe",
      "args": [
        "${input:yamsCliArguments}"
      ],
      "cwd": "${workspaceFolder}",
      "preLaunchTask": "meson-build-release",
      "environment": [
        {
          "name": "YAMS_LOG_LEVEL",
          "value": "${input:yamsLogLevel}"
        }
      ],
      "stopAtEntry": false,
      "console": "integratedTerminal"
    },
    {
      "name": "Attach to yams-daemon",
      "type": "cppvsdbg",
      "request": "attach",
      "processId": "${command:pickProcess}",
      "cwd": "${workspaceFolder}"
    }
  ],
  "inputs": [
    {
      "id": "yamsLogLevel",
      "type": "pickString",
      "description": "Log level when starting YAMS processes",
      "options": [
        "trace",
        "debug",
        "info",
        "warn",
        "error"
      ],
      "default": "debug"
    },
    {
      "id": "yamsCliArguments",
      "type": "promptString",
      "description": "Arguments passed to yams-cli (leave empty to run without arguments)",
      "default": "status"
    }
  ]
}
